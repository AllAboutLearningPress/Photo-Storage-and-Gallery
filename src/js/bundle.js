/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e,t,s,n,r={695:function(e,t,s){e.exports=function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=t(e);return class{constructor(e){(e="string"==typeof e?document.querySelector(e):e)&&(this._element=e,s.default.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.default.remove(this._element,this.constructor.DATA_KEY),this._element=null}static getInstance(e){return s.default.get(e,this.DATA_KEY)}static get VERSION(){return"5.0.0-beta3"}}}(s(493))},493:function(e){e.exports=function(){"use strict";const e=new Map;return{set(t,s,n){e.has(t)||e.set(t,new Map);const r=e.get(t);r.has(s)||0===r.size?r.set(s,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get:(t,s)=>e.has(t)&&e.get(t).get(s)||null,remove(t,s){if(!e.has(t))return;const n=e.get(t);n.delete(s),0===n.size&&e.delete(t)}}}()},286:function(e){e.exports=function(){"use strict";const e=/[^.]*(?=\..*)\.|.*/,t=/\..*/,s=/::\d+$/,n={};let r=1;const i={mouseenter:"mouseover",mouseleave:"mouseout"},o=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function a(e,t){return t&&`${t}::${r++}`||e.uidEvent||r++}function l(e){const t=a(e);return e.uidEvent=t,n[t]=n[t]||{},n[t]}function c(e,t,s=null){const n=Object.keys(e);for(let r=0,i=n.length;r<i;r++){const i=e[n[r]];if(i.originalHandler===t&&i.delegationSelector===s)return i}return null}function u(e,s,n){const r="string"==typeof s,a=r?n:s;let l=e.replace(t,"");const c=i[l];return c&&(l=c),o.has(l)||(l=e),[r,a,l]}function d(t,s,n,r,i){if("string"!=typeof s||!t)return;n||(n=r,r=null);const[o,d,h]=u(s,n,r),f=l(t),p=f[h]||(f[h]={}),m=c(p,d,o?n:null);if(m)return void(m.oneOff=m.oneOff&&i);const y=a(d,s.replace(e,"")),b=o?function(e,t,s){return function n(r){const i=e.querySelectorAll(t);for(let{target:t}=r;t&&t!==this;t=t.parentNode)for(let o=i.length;o--;)if(i[o]===t)return r.delegateTarget=t,n.oneOff&&g.off(e,r.type,s),s.apply(t,[r]);return null}}(t,n,r):function(e,t){return function s(n){return n.delegateTarget=e,s.oneOff&&g.off(e,n.type,t),t.apply(e,[n])}}(t,n);b.delegationSelector=o?n:null,b.originalHandler=d,b.oneOff=i,b.uidEvent=y,p[y]=b,t.addEventListener(h,b,o)}function h(e,t,s,n,r){const i=c(t[s],n,r);i&&(e.removeEventListener(s,i,Boolean(r)),delete t[s][i.uidEvent])}const g={on(e,t,s,n){d(e,t,s,n,!1)},one(e,t,s,n){d(e,t,s,n,!0)},off(e,t,n,r){if("string"!=typeof t||!e)return;const[i,o,a]=u(t,n,r),c=a!==t,d=l(e),g=t.startsWith(".");if(void 0!==o){if(!d||!d[a])return;return void h(e,d,a,o,i?n:null)}g&&Object.keys(d).forEach((s=>{!function(e,t,s,n){const r=t[s]||{};Object.keys(r).forEach((i=>{if(i.includes(n)){const n=r[i];h(e,t,s,n.originalHandler,n.delegationSelector)}}))}(e,d,s,t.slice(1))}));const f=d[a]||{};Object.keys(f).forEach((n=>{const r=n.replace(s,"");if(!c||t.includes(r)){const t=f[n];h(e,d,a,t.originalHandler,t.delegationSelector)}}))},trigger(e,s,n){if("string"!=typeof s||!e)return null;const r=(()=>{const{jQuery:e}=window;return e&&!document.body.hasAttribute("data-bs-no-jquery")?e:null})(),i=s.replace(t,""),a=s!==i,l=o.has(i);let c,u=!0,d=!0,h=!1,g=null;return a&&r&&(c=r.Event(s,n),r(e).trigger(c),u=!c.isPropagationStopped(),d=!c.isImmediatePropagationStopped(),h=c.isDefaultPrevented()),l?(g=document.createEvent("HTMLEvents"),g.initEvent(i,u,!0)):g=new CustomEvent(s,{bubbles:u,cancelable:!0}),void 0!==n&&Object.keys(n).forEach((e=>{Object.defineProperty(g,e,{get:()=>n[e]})})),h&&g.preventDefault(),d&&e.dispatchEvent(g),g.defaultPrevented&&void 0!==c&&c.preventDefault(),g}};return g}()},175:function(e){e.exports=function(){"use strict";function e(e){return"true"===e||"false"!==e&&(e===Number(e).toString()?Number(e):""===e||"null"===e?null:e)}function t(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}return{setDataAttribute(e,s,n){e.setAttribute(`data-bs-${t(s)}`,n)},removeDataAttribute(e,s){e.removeAttribute(`data-bs-${t(s)}`)},getDataAttributes(t){if(!t)return{};const s={};return Object.keys(t.dataset).filter((e=>e.startsWith("bs"))).forEach((n=>{let r=n.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),s[r]=e(t.dataset[n])})),s},getDataAttribute:(s,n)=>e(s.getAttribute(`data-bs-${t(n)}`)),offset(e){const t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}},position:e=>({top:e.offsetTop,left:e.offsetLeft})}}()},776:function(e,t,s){e.exports=function(e,t,s,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=r(e),o=r(t),a=r(s),l=r(n);const c="transitionend",u=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:s}=window.getComputedStyle(e);const n=Number.parseFloat(t),r=Number.parseFloat(s);return n||r?(t=t.split(",")[0],s=s.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(s))):0},d=(e,t)=>{let s=!1;const n=t+5;e.addEventListener(c,(function t(){s=!0,e.removeEventListener(c,t)})),setTimeout((()=>{s||(e=>{e.dispatchEvent(new Event(c))})(e)}),n)},h="toast",g="bs.toast",f="click.dismiss.bs.toast",p="hide",m="show",y="showing",b={animation:"boolean",autohide:"boolean",delay:"number"},v={animation:!0,autohide:!0,delay:5e3};class w extends l.default{constructor(e,t){super(e),this._config=this._getConfig(t),this._timeout=null,this._setListeners()}static get DefaultType(){return b}static get Default(){return v}static get DATA_KEY(){return g}show(){if(o.default.trigger(this._element,"show.bs.toast").defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");const e=()=>{this._element.classList.remove(y),this._element.classList.add(m),o.default.trigger(this._element,"shown.bs.toast"),this._config.autohide&&(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay))};if(this._element.classList.remove(p),this._element.offsetHeight,this._element.classList.add(y),this._config.animation){const t=u(this._element);o.default.one(this._element,"transitionend",e),d(this._element,t)}else e()}hide(){if(!this._element.classList.contains(m))return;if(o.default.trigger(this._element,"hide.bs.toast").defaultPrevented)return;const e=()=>{this._element.classList.add(p),o.default.trigger(this._element,"hidden.bs.toast")};if(this._element.classList.remove(m),this._config.animation){const t=u(this._element);o.default.one(this._element,"transitionend",e),d(this._element,t)}else e()}dispose(){this._clearTimeout(),this._element.classList.contains(m)&&this._element.classList.remove(m),o.default.off(this._element,f),super.dispose(),this._config=null}_getConfig(e){return e={...v,...a.default.getDataAttributes(this._element),..."object"==typeof e&&e?e:{}},((e,t,s)=>{Object.keys(s).forEach((n=>{const r=s[n],i=t[n],o=i&&((a=i)[0]||a).nodeType?"element":(e=>null==e?`${e}`:{}.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase())(i);var a;if(!new RegExp(r).test(o))throw new TypeError(`${e.toUpperCase()}: Option "${n}" provided type "${o}" but expected type "${r}".`)}))})(h,e,this.constructor.DefaultType),e}_setListeners(){o.default.on(this._element,f,'[data-bs-dismiss="toast"]',(()=>this.hide()))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){let t=i.default.get(this,g);if(t||(t=new w(this,"object"==typeof e&&e)),"string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}return S=h,E=w,_=()=>{const e=(()=>{const{jQuery:e}=window;return e&&!document.body.hasAttribute("data-bs-no-jquery")?e:null})();if(e){const t=e.fn[S];e.fn[S]=E.jQueryInterface,e.fn[S].Constructor=E,e.fn[S].noConflict=()=>(e.fn[S]=t,E.jQueryInterface)}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",_):_(),w;var S,E,_}(s(493),s(286),s(175),s(695))},480:(e,t,s)=>{"use strict";s.d(t,{b:()=>R,g:()=>A,h:()=>v,p:()=>c,r:()=>H});let n,r,i=!1;const o="undefined"!=typeof window?window:{},a=o.document||{head:{}},l={t:0,l:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,s,n)=>e.addEventListener(t,s,n),rel:(e,t,s,n)=>e.removeEventListener(t,s,n),ce:(e,t)=>new CustomEvent(e,t)},c=e=>Promise.resolve(e),u=(()=>{try{return new CSSStyleSheet,!0}catch(e){}return!1})(),d=(e,t,s)=>{s&&s.map((([s,n,r])=>{const i=g(e,s),o=h(t,r),a=f(s);l.ael(i,n,o,a),(t.o=t.o||[]).push((()=>l.rel(i,n,o,a)))}))},h=(e,t)=>s=>{try{256&e.t?e.i[t](s):(e.u=e.u||[]).push([t,s])}catch(e){z(e)}},g=(e,t)=>8&t?o:e,f=e=>0!=(2&e),p=new WeakMap,m=e=>"sc-"+e.$,y={},b=e=>"object"==(e=typeof e)||"function"===e,v=(e,t,...s)=>{let n=null,r=!1,i=!1,o=[];const a=t=>{for(let s=0;s<t.length;s++)n=t[s],Array.isArray(n)?a(n):null!=n&&"boolean"!=typeof n&&((r="function"!=typeof e&&!b(n))&&(n+=""),r&&i?o[o.length-1].m+=n:o.push(r?w(null,n):n),i=r)};if(a(s),t){const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter((t=>e[t])).join(" "))}const l=w(e,null);return l.p=t,o.length>0&&(l.h=o),l},w=(e,t)=>({t:0,g:e,m:t,S:null,h:null,p:null}),S={},E=(e,t,s,n,r,i)=>{if(s!==n){let o=W(e,t);if(t.toLowerCase(),"class"===t){const t=e.classList,r=L(s),i=L(n);t.remove(...r.filter((e=>e&&!i.includes(e)))),t.add(...i.filter((e=>e&&!r.includes(e))))}else if("ref"===t)n&&n(e);else{const a=b(n);if((o||a&&null!==n)&&!r)try{if(e.tagName.includes("-"))e[t]=n;else{let r=null==n?"":n;"list"===t?o=!1:null!=s&&e[t]==r||(e[t]=r)}}catch(e){}null==n||!1===n?!1===n&&""!==e.getAttribute(t)||e.removeAttribute(t):(!o||4&i||r)&&!a&&e.setAttribute(t,n=!0===n?"":n)}}},_=/\s/,L=e=>e?e.split(_):[],j=(e,t,s,n)=>{const r=11===t.S.nodeType&&t.S.host?t.S.host:t.S,i=e&&e.p||y,o=t.p||y;for(n in o)E(r,n,i[n],o[n],s,t.t)},k=(e,t,s)=>{let r,i,o=t.h[s],l=0;if(r=o.S=a.createElement(o.g),j(null,o,!1),null!=n&&r["s-si"]!==n&&r.classList.add(r["s-si"]=n),o.h)for(l=0;l<o.h.length;++l)i=k(e,o,l),i&&r.appendChild(i);return r},T=(e,t)=>{const s=e.j,i=e.k||w(null,null),o=(e=>e&&e.g===S)(t)?t:v(null,null,t);r=s.tagName,o.g=null,o.t|=4,e.k=o,o.S=i.S=s.shadowRoot||s,n=s["s-sc"],((e,t)=>{const s=t.S=e.S,n=t.h;"slot"===t.g||j(e,t,!1),null!==n&&((e,t,s,n,i,o)=>{let a,l=e;for(l.shadowRoot&&l.tagName===r&&(l=l.shadowRoot);i<=o;++i)n[i]&&(a=k(null,s,i),a&&(n[i].S=a,l.insertBefore(a,null)))})(s,0,t,n,0,n.length-1)})(i,o)},A=e=>B(e).j,O=(e,t)=>{t&&!e.M&&t["s-p"]&&t["s-p"].push(new Promise((t=>e.M=t)))},I=(e,t)=>{if(!(4&e.t))return O(e,e.v),te((()=>M(e,t)));e.t|=512},M=(e,t)=>{const s=e.i;let n;return t&&(e.t|=256,e.u&&(e.u.map((([e,t])=>P(s,e,t))),e.u=null),n=P(s,"componentWillLoad")),$(n,(()=>q(e,s,t)))},q=async(e,t,s)=>{const n=e.j,r=n["s-rc"];s&&(e=>{const t=e.C,s=e.j,n=t.t,r=((e,t)=>{let s=m(t),n=Y.get(s);if(e=11===e.nodeType?e:a,n)if("string"==typeof n){let t,r=p.get(e=e.head||e);r||p.set(e,r=new Set),r.has(s)||(t=a.createElement("style"),t.innerHTML=n,e.insertBefore(t,e.querySelector("link")),r&&r.add(s))}else e.adoptedStyleSheets.includes(n)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,n]);return s})(s.shadowRoot?s.shadowRoot:s.getRootNode(),t);10&n&&(s["s-sc"]=r,s.classList.add(r+"-h"))})(e),T(e,x(e,t)),r&&(r.map((e=>e())),n["s-rc"]=void 0);{const t=n["s-p"],s=()=>D(e);0===t.length?s():(Promise.all(t).then(s),e.t|=4,t.length=0)}},x=(e,t)=>{try{t=t.render(),e.t|=2}catch(t){z(t,e.j)}return t},D=e=>{const t=e.j,s=e.v;P(e.i,"componentDidRender"),64&e.t||(e.t|=64,N(t),e.O(t),s||C()),e.M&&(e.M(),e.M=void 0),512&e.t&&ee((()=>I(e,!1))),e.t&=-517},C=()=>{N(a.documentElement),ee((()=>(e=>{const t=l.ce("appload",{detail:{namespace:"component"}});return e.dispatchEvent(t),t})(o)))},P=(e,t,s)=>{if(e&&e[t])try{return e[t](s)}catch(e){z(e)}},$=(e,t)=>e&&e.then?e.then(t):t(),N=e=>e.classList.add("hydrated"),F=(e,t)=>(t.P&&Object.entries(t.P).map((([e,[t]])=>{})),e),R=(e,t={})=>{const s=[],n=t.exclude||[],r=o.customElements,i=a.head,c=i.querySelector("meta[charset]"),h=a.createElement("style"),g=[];let f,p=!0;Object.assign(l,t),l.l=new URL(t.resourcesUrl||"./",a.baseURI).href,e.map((e=>e[1].map((t=>{const i={t:t[0],$:t[1],P:t[2],L:t[3]};i.P=t[2],i.L=t[3];const o=i.$,a=class extends HTMLElement{constructor(e){super(e),K(e=this,i),1&i.t&&e.attachShadow({mode:"open"})}connectedCallback(){f&&(clearTimeout(f),f=null),p?g.push(this):l.jmp((()=>(e=>{if(0==(1&l.t)){const t=B(e),s=t.C,n=()=>{};if(1&t.t)d(e,t,s.L);else{t.t|=1;{let s=e;for(;s=s.parentNode||s.host;)if(s["s-p"]){O(t,t.v=s);break}}(async(e,t,s,n,r)=>{if(0==(32&t.t)){{if(t.t|=32,(r=Q(s)).then){const e=()=>{};r=await r,e()}r.isProxied||(F(r,s),r.isProxied=!0);const n=()=>{};t.t|=8;try{new r(t)}catch(e){z(e)}t.t&=-9,n()}if(r.style){let e=r.style;const t=m(s);if(!Y.has(t)){const n=()=>{};((e,t,s)=>{let n=Y.get(e);u&&s?(n=n||new CSSStyleSheet,n.replace(t)):n=t,Y.set(e,n)})(t,e,!!(1&s.t)),n()}}}const i=t.v,o=()=>I(t,!0);i&&i["s-rc"]?i["s-rc"].push(o):o()})(0,t,s)}n()}})(this)))}disconnectedCallback(){l.jmp((()=>(()=>{if(0==(1&l.t)){const e=B(this),t=e.i;e.o&&(e.o.map((e=>e())),e.o=void 0),P(t,"disconnectedCallback")}})()))}componentOnReady(){return B(this).R}};i.T=e[0],n.includes(o)||r.get(o)||(s.push(o),r.define(o,F(a,i)))})))),h.innerHTML=s+"{visibility:hidden}.hydrated{visibility:inherit}",h.setAttribute("data-styles",""),i.insertBefore(h,c?c.nextSibling:i.firstChild),p=!1,g.length?g.map((e=>e.connectedCallback())):l.jmp((()=>f=setTimeout(C,30)))},U=new WeakMap,B=e=>U.get(e),H=(e,t)=>U.set(t.i=e,t),K=(e,t)=>{const s={t:0,j:e,C:t,W:new Map};return s.R=new Promise((e=>s.O=e)),e["s-p"]=[],e["s-rc"]=[],d(e,s,t.L),U.set(e,s)},W=(e,t)=>t in e,z=(e,t)=>(0,console.error)(e,t),V=new Map,Q=e=>{const t=e.$.replace(/-/g,"_"),n=e.T,r=V.get(n);return r?r[t]:s(718)(`./${n}.entry.js`).then((e=>(V.set(n,e),e[t])),z)},Y=new Map,G=[],J=[],Z=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(e){z(e)}e.length=0},X=()=>{Z(G),Z(J),(i=G.length>0)&&l.raf(X)},ee=e=>c().then(e),te=((e,t)=>t=>{e.push(t),i||(i=!0,4&l.t?ee(X):l.raf(X))})(J)},718:(e,t,s)=>{var n={"./p-7cd2be7e.entry.js":[142,9,142],"./p-e6598bf3.system.entry.js":[484,7,484]};function r(e){if(!s.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return s.e(t[2]).then((()=>s.t(r,16|t[1])))}r.keys=()=>Object.keys(n),r.id=718,e.exports=r},488:()=>{const e="is-editing",t="js-editable__area",s="js-editable__confirm";function n(e){e.style.height="auto",e.style.height=e.scrollHeight+"px"}let r;document.addEventListener("mousedown",(s=>{const r=s.target.closest(".js-editable__val"),i=s.target.closest(".js-editable__trigger");let o,a,l=r||i;l&&(o=l.closest(".js-editable"),a=o.querySelector(`.${t}`),setTimeout((()=>{o.classList.add(e),o.querySelector(`.${t}`).disabled=!1,n(a),a.focus(),setTimeout((()=>a.select()),0)}),0))})),document.addEventListener("submit",(s=>{const n=s.target.closest(".js-editable__form");let r,i,o;s.preventDefault(),n&&(r=n.closest(".js-editable"),i=r.querySelector(`.${t}`),r.classList.remove(e),o=i.value.trim(),o&&(r.querySelector(".js-editable__val").innerHTML=o,i.dataset.latestValue=o))})),document.addEventListener("input",(e=>{const s=e.target.matches(`.${t}`)&&e.target;s&&n(s)})),document.addEventListener("mousedown",(e=>{e.target.closest(`.${s}`)&&(r=!0)}),!0),document.addEventListener("mouseup",(e=>{e.target.closest(`.${s}`)&&(r=!1)}),!0),document.addEventListener("focusout",(n=>{const i=`.${t}, .${s}`;let o,a;!n.target.matches(i)||n.relatedTarget&&n.relatedTarget.matches(i)||r||(o=n.target.closest(".js-editable"),a=o.querySelector(`.${t}`),o.classList.remove(e),o.querySelector(`.${t}`).disabled=!0,a.value=a.dataset.latestValue||a.defaultValue)})),document.addEventListener("keydown",(s=>{"Escape"===s.key&&[].slice.call(document.querySelectorAll(".js-editable.is-editing")).forEach((s=>{const n=s.querySelector(`.${t}`);s.classList.remove(e),n.value=n.dataset.latestValue||n.defaultValue}))}))},427:()=>{document.addEventListener("keypress",(e=>{e.target.matches(".btn-check")&&"Enter"===e.key&&(e.target.checked=!e.target.checked)}))},287:()=>{document.addEventListener("click",(e=>{e.target.closest(".js-tag-delete")&&(e.preventDefault(),alert("delete tag"))}))}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var s=i[e]={exports:{}};return r[e].call(s.exports,s,s.exports,o),s.exports}o.m=r,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(s,n){if(1&n&&(s=this(s)),8&n)return s;if("object"==typeof s&&s){if(4&n&&s.__esModule)return s;if(16&n&&"function"==typeof s.then)return s}var r=Object.create(null);o.r(r);var i={};e=e||[null,t({}),t([]),t(t)];for(var a=2&n&&s;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>i[e]=()=>s[e]));return i.default=()=>s,o.d(r,i),r},o.d=(e,t)=>{for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,s)=>(o.f[s](e,t),t)),[])),o.u=e=>e+".bundle.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s={},n="photo-storage-and-gallery:",o.l=(e,t,r,i)=>{if(s[e])s[e].push(t);else{var a,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==n+r){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",n+r),a.src=e),s[e]=[t];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(g);var r=s[e];if(delete s[e],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(n))),t)return t(n)},g=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");s.length&&(e=s[s.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={179:0};o.f.j=(t,s)=>{var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)s.push(n[2]);else{var r=new Promise(((s,r)=>n=e[t]=[s,r]));s.push(n[2]=r);var i=o.p+o.u(t),a=new Error;o.l(i,(s=>{if(o.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var r=s&&("load"===s.type?"missing":s.type),i=s&&s.target&&s.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",a.name="ChunkLoadError",a.type=r,a.request=i,n[1](a)}}),"chunk-"+t,t)}};var t=(t,s)=>{var n,r,i=s[0],a=s[1],l=s[2],c=0;for(n in a)o.o(a,n)&&(o.m[n]=a[n]);for(l&&l(o),t&&t(s);c<i.length;c++)r=i[c],o.o(e,r)&&e[r]&&e[r][0](),e[i[c]]=0},s=self.webpackChunkphoto_storage_and_gallery=self.webpackChunkphoto_storage_and_gallery||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),(()=>{"use strict";var e=["image/jpeg","image/png","image/gif","image/tiff","image/vnd.adobe.photoshop"];function t(e,t,s=(()=>!0)){const n=['a[href]:not([tabindex^="-"])','area[href]:not([tabindex^="-"])','input:not([type="hidden"]):not([type="radio"]):not([disabled]):not([tabindex^="-"])','input[type="radio"]:not([disabled]):not([tabindex^="-"]):checked','select:not([disabled]):not([tabindex^="-"])','textarea:not([disabled]):not([tabindex^="-"])','button:not([disabled]):not([tabindex^="-"])','iframe:not([tabindex^="-"])','audio[controls]:not([tabindex^="-"])','video[controls]:not([tabindex^="-"])','[contenteditable]:not([tabindex^="-"])','[tabindex]:not([tabindex^="-"])'];const r={container:null,handleEvent(e){var t,r;t=e,(r=this.container)&&9===t.which&&s()&&function(e,t){const s=function(e){return[].filter.call(e.querySelectorAll(n.join(",")),(e=>!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)))}(e),r=s.indexOf(document.activeElement);t.shiftKey&&0===r?(s[s.length-1].focus(),t.preventDefault()):t.shiftKey||r!==s.length-1||(s[0].focus(),t.preventDefault())}(r,t)}};function i(e){r.container=e.target,document.addEventListener("keydown",r)}function o(e){r.container=null,document.removeEventListener("keydown",r)}return document.addEventListener(e,i),document.addEventListener(t,o),function(){document.removeEventListener(e,i),document.removeEventListener(t,o)}}function s(e,t,s){let n;return function(){const r=this,i=arguments,o=function(){n=null,s||t.apply(r,i)},a=s&&!n;clearTimeout(n),n=setTimeout(o,e),a&&t.apply(r,i)}}function n(e,t,s,n){return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)}const r=function(){const e={};return window.addEventListener("keyup",(t=>e[t.key]=!1)),window.addEventListener("keydown",(t=>e[t.key]=!0)),t=>e.hasOwnProperty(t)&&e[t]||!1}();var i="(min-width: 576px)",a="(min-width: 768px)";const l="is-open",c="sidebar_always-hideable";let u=0;document.addEventListener("click",(e=>{const t=e.target.closest(".js-sidebar-toggle");t&&t.dispatchEvent(new CustomEvent("sidebar-toggle-click",{bubbles:!0}))}));var d=class{constructor(e,r={saveState:!1}){if(this.sidebar=e,!this.sidebar)return;this.id=u+=1,this.storageKey=`__unique-photo-gallery-key-for-details-state_${this.id}`,this.options=r;const i=this;let o;this.cleanupFuntions=[],this.backdrop=this.sidebar.parentNode.querySelector(".sidebar-backdrop"),this.noOverlayingSidebarMq=matchMedia(a);let d=!1;function h({toggler:e,force:t,resetFocus:s=!0}={}){const r=i.sidebar.classList.contains(l);if(r!==t){if(!r&&!d){const e=i.sidebar.querySelector(".scrollbar");i.sidebar.style.visibility="visible",e.style.overflow="hidden",e.offsetHeight,e.style.overflow=""}d?o():(d=!0,setTimeout((()=>{const e=n(i.sidebar,"transitionend",(t=>{i.sidebar.style.visibility="",e()}));o()}),0))}function o(){i.sidebar.classList.toggle(l,t),i.sidebar.dispatchEvent(new CustomEvent(r?"sidebarhide":"sidebarshow",{bubbles:!0})),setTimeout((()=>{if(s){const e=r?i.sidebar._trigger:i.sidebar;e&&e.focus()}i.sidebar._trigger=e}),50),i.options.saveState&&g()}}function g(){localStorage.setItem(i.storageKey,JSON.stringify(i.sidebar.classList.contains(l)))}function f(){i.sidebar.classList.contains(l)&&(i.sidebar.classList.contains(c)&&i.isOverlaying()&&!i.sidebar.contains(document.activeElement)?i.sidebar.focus():i.sidebar.classList.contains(c)||h({force:!1}))}this.handlers=[n(document,"sidebar-toggle-click",(e=>{document.querySelector(e.target.dataset&&e.target.dataset.sidebar)===i.sidebar&&h({toggler:e.target})})),n(document,"keydown",(e=>{"Escape"===e.key&&h({force:!1})})),this.backdrop&&n(this.backdrop,"click",(()=>{h({force:!1,resetFocus:!1})})),n(window,"beforeunload",(()=>{i.options.saveState&&g()})),n(window,"resize",s(100,f)),n(window,"orientationchange",s(0,f))],o=t("sidebarshow","sidebarhide",(()=>i.isOverlaying())),this.cleanupFuntions.push(o),this.options.saveState&&!i.isOverlaying()&&JSON.parse(localStorage.getItem(i.storageKey))&&h({force:!0}),this.isInited=!0}isOverlaying(){return!this.noOverlayingSidebarMq.matches}destroy(){this.isInited&&(this.cleanupFuntions.forEach((e=>e())),this.cleanupFuntions=null,this.handlers.forEach((e=>e&&e())),this.handlers=null,this.sidebar=null,this.backdrop=null,this.isInited=!1)}};const h="is-single-image",g="is-upload-preferred",f="Shift";var p=class{constructor(){this.stats={search:!1,upload:!0};const t=this;let s=[],i=[];function o(e){const s=document.querySelector(".js-drop-manager");s&&(s.classList.toggle(g,e),t.stats.search=e,t.stats.upload=!e)}function a(){const e=document.querySelector(".js-drop-manager");e&&(e.classList.remove(h),e.classList.remove(g),s.forEach((e=>e())),i.forEach((e=>e())))}this.handlers=[n(document,"drop-target-active",(t=>{!function(t){const a=function(t){return 1===t.items.length&&t.items[0].type.length>0&&e.includes(t.items[0].type)}(t),l=document.hasFocus(),c=document.querySelector(".js-drop-manager");c&&a&&(l?c.classList.add(h):i=[n(window,"focus",(e=>{c.classList.add(h)})),n(window,"blur",(e=>{c.classList.remove(h)}))],r(f)&&o(!0),s=[n(document,"keydown",(e=>{e.key===f&&o(!0)})),n(document,"keyup",(e=>{e.key===f&&o(!1)}))])}(t.detail.dataTransfer)})),n(document,"drop-target-inactive",(e=>{a()})),n(document,"items-dropped",(e=>{a()}))],this.isInited=!0}getLatestDropStats(){return this.stats}};const m="is-searchable",y="is-suggesting",b="is-highlighted",v="is-searching-by-image",w="has-no-transition";var S=o(776),E=o.n(S);const _="drop-target-active",L="drop-target-inactive",j="is-active";async function k(e){let t=[],s=await T(e);for(;s.length>0;)t.push(...s),s=await T(e);return t}async function T(e){try{return await new Promise(((t,s)=>{e.readEntries(t,s)}))}catch(e){console.log(e)}}let A=!1;var O=(o(427),o(287),o(488),o(480));(()=>{const e={};return e.resourcesUrl=new URL(".","file:///Users/andreyvolokitin/webdev/sandbox/Photo-Storage-and-Gallery/node_modules/img-comparison-slider/dist/component/component.esm.js").href,(0,O.p)(e)})().then((e=>(0,O.b)([["p-7cd2be7e",[[1,"img-comparison-slider",null,[[0,"keydown","onKeyDown"],[0,"keyup","onKeyUp"],[1,"mousedown","onMouseDown"],[9,"mouseup","onMouseUp"],[1,"touchstart","onTouchStart"],[0,"touchmove","onTouchMove"],[1,"touchend","touchEnd"],[0,"blur","onBlur"],[0,"focus","onFocus"],[9,"resize","updateAfterWidth"]]]]]],e))),new class{constructor(e=["*"]){if(this.dropTarget=document.querySelector(".js-drop-target"),!this.dropTarget)return!1;this.allowedMimeTypes=e;const t=this;this.dragging=!1;let s=0,r=()=>{};function i(e){return!(1===e.items.length&&"string"===e.items[0].kind)}this.notificator=new class{constructor(){this.container=document.querySelector(".js-notification-container"),this.container&&(this.toasts=[],this.handlers=[],this.isInited=!0)}getElemAndInstanceBySelector(e){const t=document.querySelector(e);let s;return t?(s=E().getInstance(t),s||(s=new(E())(t,{}),this.toasts.push(s)),{elem:t,instance:s}):{}}show(e){const{elem:t,instance:s}=this.getElemAndInstanceBySelector(e);t&&(this.container.insertAdjacentElement("afterbegin",t),s.show())}hide(e){const{instance:t}=this.getElemAndInstanceBySelector(e);t&&t.hide()}},this.handlers=[n(document,"mousedown",(e=>{A=!0})),n(document,"mouseup",(e=>{A=!1})),n(document,"dragover",(e=>{A||(e.preventDefault(),e.dataTransfer.dropEffect="copy")})),n(document,"dragenter",(e=>{A||(e.preventDefault(),0===s&&(t.dragging=!0,i(e.dataTransfer)&&t.dropTarget.dispatchEvent(new CustomEvent(_,{bubbles:!0,detail:{dataTransfer:e.dataTransfer}}))),s+=1)})),n(document,"dragleave",(e=>{A||(e.preventDefault(),r=function(e,...t){let s=!1;return Promise.resolve().then((()=>s||e(...t))),()=>{s=!0}}((()=>{s-=1,0===s&&(this.dragging=!1,i(e.dataTransfer)&&this.dropTarget.dispatchEvent(new CustomEvent(L,{bubbles:!0})))})))})),n(document,"drop",(e=>{A||(e.preventDefault(),r(),s>0&&(s=0,this.dragging=!1,i(e.dataTransfer)&&(async function(e){const s=await async function(e){let t=[],s=[];for(let t=0;t<e.length;t++)s.push(e[t].webkitGetAsEntry());for(;s.length>0;){let e=s.shift();e.isFile?t.push(e):e.isDirectory&&s.push(...await k(e.createReader()))}return t}(e),n=(await Promise.allSettled(s.map((async e=>await async function(e){try{return await new Promise(((t,s)=>e.file(t,s)))}catch(e){console.log(e)}}(e))))).map((e=>e.value)).filter((e=>t.allowedMimeTypes.includes("*")||t.allowedMimeTypes.includes(e.type)));t.dropTarget.dispatchEvent(new CustomEvent("items-dropped",{bubbles:!0,detail:{fileArray:n}})),s.length!==n.length&&t.notificator.show(".js-invalid-drop-note")}(e.dataTransfer.items),this.dropTarget.dispatchEvent(new CustomEvent(L,{bubbles:!0})))))})),n(this.dropTarget,_,(e=>{e.target.classList.add(j)})),n(this.dropTarget,L,(e=>{e.target.classList.remove(j)}))],this.isInited=!0}}(e),new class{constructor(){const t=this;this.dropManager=new p,this.handlers=[n(document,"change",(t=>{t.target.matches(".js-upload__input")&&this.handleUpload([...t.target.files].filter((t=>e.includes(t.type))))})),n(document,"items-dropped",(e=>{!function(e){(!t.dropManager.isInited||t.dropManager.getLatestDropStats().upload)&&t.handleUpload(e.detail.fileArray)}(e)}))],this.isInited=!0}handleUpload(e){e.length&&(console.log(e),alert(`render upload view with ${e.length} file${1===e.length?"":"s"}`))}}(document.querySelector(".js-upload")),new d(document.querySelector(".js-content-sidebar")),new class{constructor(t){if(this.search=t,!this.search)return;const r=this;this.desktopSearchStyleMq=matchMedia(i),this.header=this.search.closest(".js-search-header"),this.field=this.search.querySelector(".js-search__field"),this.input=this.search.querySelector(".js-search__input"),this.searchImageInput=this.search.querySelector(".js-search__image-input"),this.suggester=this.search.querySelector(".js-search__suggest"),this.imageProgressbar=this.search.querySelector(".js-search__image-progress-bar"),this.defaultPlaceholderText=this.input.placeholder,this.dropManager=new p,this.handlers=[n(this.header,"click",(e=>{const t=e.target.closest(".js-search__toggle");t&&this.toggleSearchfield({togglerElem:t,resetFocus:!e.detail})})),n(this.search,"submit",(e=>{e.preventDefault()})),n(this.input,"input",(e=>{this.toggleSuggester({inputElem:e.target})})),n(this.searchImageInput,"focusin",(()=>{this.isSearchImageFileinputActivated=!1})),n(this.searchImageInput,"click",(()=>{this.isSearchImageFileinputActivated=!0})),n(this.field,"focusout",(e=>{if((e.relatedTarget||!this.isSearchImageFileinputActivated)&&!this.field.contains(e.relatedTarget)){const e=this.header._trigger;e&&(e.classList.add(w),setTimeout((()=>{e.classList.remove(w)}),0)),this.toggleSearchfield({force:!1,resetFocus:!0})}})),n(document,"keydown",(e=>{"Escape"===e.key&&this.toggleSearchfield({force:!1,resetFocus:!0})})),n(this.suggester,"click",(e=>{const t=e.target.closest(".js-search__suggest-item");t&&(this.unhighlightSuggestion(),this.selectSuggestion(t.dataset.suggestionId))})),n(this.input,"keydown",(e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();const t=[].slice.call(this.suggester.querySelectorAll(".js-search__suggest-item")),s=t.findIndex((e=>e.classList.contains(b)))+("ArrowDown"===e.key?1:-1),n=t[s<-1?t.length-1:s];this.unhighlightSuggestion(),n&&this.highlightSuggestion(n)}if("Enter"===e.key){const e=this.suggester.querySelector(".is-highlighted");e?this.selectSuggestion(e.dataset.suggestionId):this.search.submit()}})),n(document,"items-dropped",(e=>{!function(e){(!r.dropManager.isInited||r.dropManager.getLatestDropStats().search)&&r.handleImageSearch(e.detail.fileArray[0])}(e)})),n(this.searchImageInput,"change",(t=>{this.handleImageSearch([...t.target.files].filter((t=>e.includes(t.type)))[0])})),n(window,"resize",s(50,(()=>this.cleanup))),n(window,"orientationchange",s(0,(()=>this.cleanup)))],this.isInited=!0}handleImageSearch(e){if(!e)return;this.search.classList.add(v),this.input.placeholder="Image is uploading...";const t=this;!function e(s){t.imageProgressbar.style.width=`${s}%`,t.imageProgressbar.setAttribute("aria-valuenow",s),s<100?requestAnimationFrame((()=>{e(s+1)})):(t.search.classList.remove(v),t.input.placeholder=t.defaultPlaceholderText,alert("show search results"))}(0)}highlightSuggestion(e){e.classList.add(b),e.scrollIntoView()}unhighlightSuggestion(){const e=this.suggester.querySelector(".is-highlighted");e&&e.classList.remove(b)}selectSuggestion(e){alert(`selected: ${this.suggester.querySelector(`[data-suggestion-id="${e}"]`).textContent.trim()}`)}toggleSuggester({force:e,inputElem:t=this.input}={}){t.form.classList.toggle(y,void 0===e?t.value.length:e)||this.unhighlightSuggestion()}toggleSearchfield({force:e,resetFocus:t=!1,togglerElem:s}={}){let n=this.header.classList.toggle(m,e);n?this.input.focus():(this.input.value="",this.search.classList.remove(y),this.unhighlightSuggestion()),setTimeout((()=>{if(t&&!n&&this.header._trigger){const e=this.header._trigger;e.classList.add(w),e.focus(),setTimeout((()=>{e.classList.remove(w)}),0)}this.header._trigger=s}),0)}cleanup(){this.header.classList.contains(m)&&this.desktopSearchStyleMq.matches&&this.toggleSearchfield({force:!1})}destroy(){this.isInited&&(this.handlers.forEach((e=>e&&e())),this.handlers=null,this.header=null,this.search=null,this.field=null,this.input=null,this.searchImageInput=null,this.suggester=null,this.imageProgressbar=null,this.dropManager.destroy(),this.dropManager=null,this.isInited=!1)}}(document.querySelector(".js-search")),new d(document.querySelector(".js-image-details-sidebar"),{saveState:!0})})()})();